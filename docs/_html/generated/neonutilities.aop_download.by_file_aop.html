<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>neonutilities.aop_download.by_file_aop &#8212; neonutilities 1.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=292eb321"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="neonutilities.aop_download.by_tile_aop" href="neonutilities.aop_download.by_tile_aop.html" />
    <link rel="prev" title="API" href="../api.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="neonutilities-aop-download-by-file-aop">
<h1>neonutilities.aop_download.by_file_aop<a class="headerlink" href="#neonutilities-aop-download-by-file-aop" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="neonutilities.aop_download.by_file_aop">
<span class="sig-prename descclassname"><span class="pre">neonutilities.aop_download.</span></span><span class="sig-name descname"><span class="pre">by_file_aop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_provisional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#neonutilities.aop_download.by_file_aop" title="Link to this definition">¶</a></dt>
<dd><p>This function queries the API for AOP data by site, year, and product, and downloads all 
files found, preserving the original folder structure. It downloads files serially to 
avoid API rate-limit overload, which may take a long time.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>dpid: str</dt><dd><p>The identifier of the NEON data product to pull, in the form DPL.PRNUM.REV, e.g. DP3.30001.001.</p>
</dd>
<dt>site: str</dt><dd><p>The four-letter code of a single NEON site, e.g. ‘CLBJ’.</p>
</dd>
<dt>year: str or int</dt><dd><p>The four-digit year to search for data.</p>
</dd>
<dt>include_provisional: bool, optional</dt><dd><p>Should provisional data be downloaded? Defaults to False. See 
<a class="reference external" href="https://www.neonscience.org/data-samples/data-management/data-revisions-releases">https://www.neonscience.org/data-samples/data-management/data-revisions-releases</a> 
for details on the difference between provisional and released data.</p>
</dd>
<dt>check_size: bool, optional</dt><dd><p>Should the user approve the total file size before downloading? Defaults to True.
If you have sufficient storage space on your local drive, when working 
in batch mode, or other non-interactive workflow, use check_size=False.</p>
</dd>
<dt>savepath: str, optional</dt><dd><p>The file path to download to. Defaults to None, in which case the working directory is used.</p>
</dd>
<dt>chunk_size: integer, optional</dt><dd><p>Size in bytes of chunk for chunked download. Defaults to 1024.</p>
</dd>
<dt>token: str, optional</dt><dd><p>User-specific API token generated within neon.datascience user accounts.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h2>
<p>None</p>
</section>
<section id="raises">
<h2>Raises<a class="headerlink" href="#raises" title="Link to this heading">¶</a></h2>
<p>ValueError: If <cite>dpid</cite> is not formatted as expected.
ValueError: If field spectra data are attempted with the given <cite>dpid</cite>.
ValueError: If <cite>site</cite> is not a 4-letter character string.
ValueError: If <cite>year</cite> is not a valid year format, or is not &gt; 2010</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">by_file_aop</span><span class="p">(</span><span class="n">dpid</span><span class="o">=</span><span class="s2">&quot;DP3.30015.001&quot;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="s2">&quot;MCRA&quot;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="s2">&quot;2021&quot;</span><span class="p">,</span> <span class="n">savepath</span><span class="o">=</span><span class="s2">&quot;./test_download&quot;</span><span class="p">)</span>
<span class="go"># This will download 2021 CHM data from MCRA to the &#39;./test_download&#39; directory.</span>
</pre></div>
</div>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<p>The function creates a folder in the ‘savepath’ directory, containing all AOP files meeting the query criteria. 
If ‘savepath’ is not provided, it uses the working directory.</p>
</section>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">neonutilities</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Get started with neonutilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">neonutilities.aop_download.by_file_aop</a></li>
<li class="toctree-l2"><a class="reference internal" href="neonutilities.aop_download.by_tile_aop.html">neonutilities.aop_download.by_tile_aop</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API</a><ul>
      <li>Previous: <a href="../api.html" title="previous chapter">API</a></li>
      <li>Next: <a href="neonutilities.aop_download.by_tile_aop.html" title="next chapter">neonutilities.aop_download.by_tile_aop</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Claire Lunch.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/generated/neonutilities.aop_download.by_file_aop.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>